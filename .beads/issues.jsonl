{"id":"complete-maintenance-management-154","title":"UNDER_CONSTRUCTION button order: +Add Field above Cancel/Create","description":"In DataCard construction mode, Cancel and Create buttons should be at the very bottom. +Add Field should be above them, in line with the default fields.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-23T14:59:12.1234945Z","updated_at":"2025-12-23T15:08:18.9109786Z","closed_at":"2025-12-23T15:08:18.9109786Z","close_reason":"Fixed: DataCard now accepts actions slot rendered after CreateDataField. TreeNodeConstruction uses hideAddField prop and renders Cancel/Create in actions slot at bottom","dependencies":[{"issue_id":"complete-maintenance-management-154","depends_on_id":"complete-maintenance-management-ctw","type":"related","created_at":"2025-12-23T14:59:53.9431379Z","created_by":"daemon"}]}
{"id":"complete-maintenance-management-3h1","title":"Text caret appears in Add Sub-Asset button","description":"A text caret sometimes appears at the left end of the '+ Add Sub-Asset' button. This should not show a text cursor.","notes":"IMPLEMENTED: Added user-select:none and caret-color:transparent to .createNode CSS. TEST: Click on Add Sub-Asset button, verify no text caret appears.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-23T16:40:09.9963235Z","updated_at":"2025-12-23T18:00:04.7090812Z","closed_at":"2025-12-23T18:00:04.7090812Z","close_reason":"Closed","labels":["needs-review"],"comments":[{"id":2,"issue_id":"complete-maintenance-management-3h1","author":"DESKTOP-PUMMD8Q\\blarv","text":"Implemented: Added user-select:none and caret-color:transparent to .createNode CSS. Test: Click on Add Sub-Asset button, verify no text caret appears.","created_at":"2025-12-23T16:58:05Z"}]}
{"id":"complete-maintenance-management-3zn","title":"CreateDataField: Auto-focus Field Name, down arrow opens picklist, tab moves to Value","description":"When creating a new Data Field: 1) The text entry caret should auto-focus the Field Name field when the UX begins (currently requires extra click). 2) Down arrow key should open the DataField library picklist when Field Name is focused. 3) Tab should move focus from Field Name to Field Value field.","notes":"IMPLEMENTED: Added useTask$ for auto-focus, ArrowDown opens dropdown, Tab moves to value field. TEST: Double-tap Add Field, verify focus is in Field Name. Press Down arrow to open picklist. Press Tab to move to Value field.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-23T16:39:56.521284Z","updated_at":"2025-12-23T17:17:59.5777527Z","labels":["needs-review"],"comments":[{"id":1,"issue_id":"complete-maintenance-management-3zn","author":"DESKTOP-PUMMD8Q\\blarv","text":"Implemented: Added useTask$ for auto-focus, ArrowDown opens dropdown, Tab moves to value field, chevron has tabIndex=-1. Test: Double-tap Add Field, verify focus is in Field Name. Press Down arrow to open picklist. Press Tab to move to Value field.","created_at":"2025-12-23T16:58:00Z"}]}
{"id":"complete-maintenance-management-5ar","title":"DataFieldDetails: Swap REVERT button and date/time/user columns","description":"In DataFieldValue's current display, swap the date/time/user metadata column with the REVERT button column, so the date/time/user visually aligns with the date/time/user in historical entries below. Historical entries could shift slightly left (chevron width) or leave empty column on right.","notes":"IMPLEMENTED: Swapped column order - REVERT/spacer now in col 4, metadata in col 5. Added right padding to history row. TEST: Expand DataField details and history, verify date/time/user aligns vertically between current and history entries.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-23T16:40:14.3900129Z","updated_at":"2025-12-23T18:00:04.6996761Z","closed_at":"2025-12-23T18:00:04.6996761Z","close_reason":"Closed","labels":["needs-review"],"comments":[{"id":4,"issue_id":"complete-maintenance-management-5ar","author":"DESKTOP-PUMMD8Q\\blarv","text":"Implemented: Swapped column order - REVERT/spacer now in col 4, metadata in col 5. Added right padding to history row. Test: Expand DataField details and history, verify date/time/user aligns vertically between current value and history entries.","created_at":"2025-12-23T16:58:14Z"}]}
{"id":"complete-maintenance-management-7i4","title":"Child Node UNDER_CONSTRUCTION DataCard should match parent width","description":"When creating a child node (UNDER_CONSTRUCTION mode), the DataCard should be the same width as the parent's DataCard. The child's Node Header is narrower, but the DataCard should still align/match width.","notes":"RECONSIDERED: Original request was to extend child UNDER_CONSTRUCTION DataCard to match parent width. But this caused visual issues (alk regression). Now reverted - UNDER_CONSTRUCTION DataCards match their own node header width, same as normal in-situ editing behavior. This may close as 'won't fix' if current behavior is acceptable.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-23T16:40:05.5704675Z","updated_at":"2025-12-23T18:03:23.8771091Z","labels":["needs-review"],"comments":[{"id":3,"issue_id":"complete-maintenance-management-7i4","author":"DESKTOP-PUMMD8Q\\blarv","text":"Implemented: Added isChildConstruction prop to TreeNodeConstructionProps, pass --branch-indent CSS variable (32px for child), DataCard uses width: calc(100% + var(--branch-indent)). Test: Create new child node in BranchView, verify DataCard width matches parent's DataCard.","created_at":"2025-12-23T16:58:10Z"}]}
{"id":"complete-maintenance-management-88i","title":"Closing DataFieldDetails should cancel DataFieldHistory operation","description":"When FieldValueHistory is expanded and the user closes the DataFieldDetails section (collapses it), this should also cancel/close the DataFieldHistory operation - same behavior as explicitly closing DataFieldHistory via chevron.","notes":"IMPLEMENTED: toggleDetails$ now uses selectors.getDataFieldDetailsState directly to check current state before toggle. TEST: Expand details, expand history, select a value (preview shows), then collapse details. Verify preview is cleared.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-23T16:40:18.6398114Z","updated_at":"2025-12-23T18:00:04.6921011Z","closed_at":"2025-12-23T18:00:04.6921011Z","close_reason":"Closed","labels":["needs-review"],"comments":[{"id":5,"issue_id":"complete-maintenance-management-88i","author":"DESKTOP-PUMMD8Q\\blarv","text":"Implemented: toggleDetails$ now uses selectors.getDataFieldDetailsState directly to check current state before toggle. Test: Expand details, expand history, select a value (preview shows), then collapse details. Verify preview is cleared.","created_at":"2025-12-23T16:58:19Z"}]}
{"id":"complete-maintenance-management-alk","title":"REGRESSION: DataCards extend beyond node headers on right side","description":"Introduced by fix for 7i4. The width: calc(100% + var(--branch-indent, 0px)) is being applied to ALL DataCards, causing them to extend beyond the node header on the right. Should only affect child construction mode.","notes":"IMPLEMENTED: Child construction now uses 18px indent (same as normal child nodes). Root construction uses 50px (same as parent nodes). This matches TreeNodeDisplay logic. TEST: Create a child node - DataCard left edge should align with other child DataCards.","status":"in_progress","priority":2,"issue_type":"task","created_at":"2025-12-23T17:26:30.2075519Z","updated_at":"2025-12-23T18:11:11.083147Z","labels":["needs-review"]}
{"id":"complete-maintenance-management-ctw","title":"UNDER_CONSTRUCTION node styling doesn't match normal display state","description":"The UNDER_CONSTRUCTION node mode looks completely different from the normal display. It should match the look/feel of TreeNode, DataCard, and DataFields - same positions, sizes, widths. Only difference: no DataFieldDetails chevron. DataCard width should be identical.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-23T14:58:52.3368363Z","updated_at":"2025-12-23T15:08:09.3128861Z","closed_at":"2025-12-23T15:08:09.3128861Z","close_reason":"Fixed: TreeNodeConstruction now uses same --datacard-indent CSS variable (50px), same grid layout, and matches TreeNodeDisplay appearance"}
{"id":"complete-maintenance-management-fuu","title":"Text caret appears left of DataFieldDetails chevron after history cancel","description":"After cancelling a FieldValueHistory edit operation (clicking CANCEL or closing history), a text entry caret appears to the left of the DataFieldDetails chevron. This is a cursor/focus issue.","notes":"IMPLEMENTED: 1) Added document.activeElement.blur() in CreateDataField cancel$ handler before closing construction mode. 2) Added caret-color:transparent to .datafieldWrapper and .datafield CSS. 3) Added caret-color:transparent to multiple DataFieldDetails and DataFieldHistory CSS classes. TEST: Double-tap Add Field, click Cancel, verify no blinking caret appears near the DataField chevron.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-23T17:36:11.6904951Z","updated_at":"2025-12-23T17:48:36.9895348Z","labels":["needs-review"]}
{"id":"complete-maintenance-management-mmp","title":"Text cursor position wrong when entering EDITING state","description":"When double-clicking a DataField value to edit, the text cursor appears at the end of the input line (far right) instead of at the end of the text. Backspace doesn't work until clicking again to place cursor in the string. Cursor should start at end of text content.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-23T14:59:32.7241388Z","updated_at":"2025-12-23T15:08:30.1870172Z","closed_at":"2025-12-23T15:08:30.1870172Z","close_reason":"Fixed: Added useTask$ to DataField that sets cursor position with setSelectionRange(len, len) when entering EDITING state"}
{"id":"complete-maintenance-management-p53","title":"Text cursor appears on single-click instead of only when EDITING","description":"In Nodes and DataCard, single-click shows a text entry cursor. The cursor should only appear when in EDITING state (triggered by double-tap). Single-click should not activate text entry.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-23T14:59:22.4764579Z","updated_at":"2025-12-23T15:08:49.8533596Z","closed_at":"2025-12-23T15:08:49.8533596Z","close_reason":"Fixed: Added user-select: none and cursor: default to nodeTitle, nodeSubtitle, datafieldLabel, datafieldValueEditable CSS classes to prevent text cursor on single-click"}
{"id":"complete-maintenance-management-pfb","title":"Enter key should complete UNDER_CONSTRUCTION state","description":"When creating a new node, pressing Enter does nothing. Enter should trigger the Create action to complete node creation.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-23T14:59:02.8927514Z","updated_at":"2025-12-23T15:08:40.0718889Z","closed_at":"2025-12-23T15:08:40.0718889Z","close_reason":"Fixed: Added handleKeyDown$ to TreeNodeConstruction that calls handleCreate$ on Enter key, onCancel$ on Escape"}
{"id":"complete-maintenance-management-wfa","title":"Add CANCEL button for DataFieldHistory operations","description":"DataFieldHistory needs a CANCEL button alongside the REVERT button. There is room for two buttons in that space. CANCEL should clear the selection and close the history view without reverting.","notes":"IMPLEMENTED: Added CANCEL button in buttonGroup alongside REVERT. handleCancel$ clears selection, preview, and closes history. TEST: Expand history, select a value, click CANCEL. Verify preview clears and history closes without reverting.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-23T16:40:22.9676012Z","updated_at":"2025-12-23T18:00:04.7042956Z","closed_at":"2025-12-23T18:00:04.7042956Z","close_reason":"Closed","labels":["needs-review"],"comments":[{"id":6,"issue_id":"complete-maintenance-management-wfa","author":"DESKTOP-PUMMD8Q\\blarv","text":"Implemented: Added CANCEL button in buttonGroup alongside REVERT. handleCancel$ clears selection, preview, and closes history. Test: Expand history, select a value, click CANCEL. Verify preview clears and history closes without reverting.","created_at":"2025-12-23T16:58:23Z"}]}
