/* DataCard component styles - Pure animation container */

/* ─── Expansion wrapper ─── */
.wrapper {
    display: grid;
    grid-template-rows: 0fr;
    /* Use a specific cubic-bezier to ensure tight sync between height and transform */
    transition: grid-template-rows var(--duration-fast) var(--ease-default);
    
    /* Variable indent driven by parent node state */
    margin-left: var(--datacard-indent, 40px);
    margin-top: -1.5px; /* Tuck under node border */
    z-index: var(--z-base); /* Behind parent node */
    
    /* Ensure content doesn't spill during animation */
    overflow: hidden;
}

/* Extended width for child construction mode - compensates for branch indent */
.wrapperExtended {
    width: calc(100% + var(--branch-indent, 0px));
}

.wrapperOpen {
    grid-template-rows: 1fr;
    /* Keep overflow hidden - dropdowns use position:fixed to escape */
}

.inner {
    min-height: 0;
    /* This inner wrapper is the grid cell */
}

/* ─── DataCard itself ─── */

.datacard {
    border: var(--border-width) solid var(--border-default);
    border-top: 0;
    background: var(--bg-surface);
    padding: var(--space-3);
    display: flex;
    flex-direction: column;
    gap: var(--space-3);

    /* Start position: shifted up by 100% of its own height */
    transform: translateY(-100%);
    
    /* Match the wrapper transition exactly to prevent "pop-in" */
    transition: transform var(--duration-fast) var(--ease-default);
}

.datacardOpen {
    /* End position: natural location */
    /* Use none to prevent creating a containing block for fixed descendants */
    transform: none;
}
